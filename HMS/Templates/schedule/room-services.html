
{% load tz %}
{% load custom_filter %}

<style>

.bg-light-gray {
    background-color: #188dec;
}
.table-bordered thead td, .table-bordered thead th {
    border-bottom-width: 2px;
}
.table thead th {
    vertical-align: bottom;
    border-bottom: 2px solid #dee2e6;
}
.table-bordered td, .table-bordered th {
    border: 1px solid #dee2e6;
}


.bg-sky.box-shadow {
    box-shadow: 0px 5px 0px 0px #00a2a7
}

.bg-orange.box-shadow {
    box-shadow: 0px 5px 0px 0px #af4305
}

.bg-green.box-shadow {
    box-shadow: 0px 5px 0px 0px #4ca520
}

.bg-yellow.box-shadow {
    box-shadow: 0px 5px 0px 0px #dcbf02
}

.bg-pink.box-shadow {
    box-shadow: 0px 5px 0px 0px #e82d8b
}

.bg-purple.box-shadow {
    box-shadow: 0px 5px 0px 0px #8343e8
}

.bg-lightred.box-shadow {
    box-shadow: 0px 5px 0px 0px #d84213
}


.bg-sky {
    background-color: #02c2c7
}

.bg-orange {
    background-color: #e95601
}

.bg-green {
    background-color: #5bbd2a
}

.bg-yellow {
    background-color: #f0d001
}

.bg-pink {
    background-color: #ff48a4
}

.bg-purple {
    background-color: #9d60ff
}

.bg-lightred {
    background-color: #ff5722
}

.padding-15px-lr {
    padding-left: 15px;
    padding-right: 15px;
}
.padding-5px-tb {
    padding-top: 5px;
    padding-bottom: 5px;
}
.margin-10px-bottom {
    margin-bottom: 10px;
}
.border-radius-5 {
    border-radius: 5px;
}

.margin-10px-top {
    margin-top: 10px;
}
.font-size14 {
    font-size: 14px;
}

.text-light-gray {
    color: #d6d5d5;
}
.font-size13 {
    font-size: 13px;
}

.table-bordered td, .table-bordered th {
    border: 1px solid #dee2e6;
}
.table td, .table th {
    padding: .75rem;
    vertical-align: top;
    border-top: 1px solid #dee2e6;
}
.nav-span span {
    color: #252525;
    font-size: 40px;
    line-height: 50px;
    font-weight: 600;
    float:none;
    margin-left: auto;
    margin-right: auto;
}

.navigate a {
  text-decoration: none;
  display: inline-block;
  padding: 8px 16px;
}

.navigate a:hover {
  background-color: #ddd;
  color: black;
}

.previous {
  background-color: #f1f1f1;
  color: black;
}

.next {
  background-color: #f1f1f1;
  color: black;
}


</style>
<div class="container py-5">
        <div class="col-lg-12 bg-green">&nbsp;</div>
        <div class="col-lg-12 nav-span media ">
            <span class="navigate">
                <a href="/schedule/previous/{{date}}" id="previous" class="previous text-center">&#8249;</a>
            </span>
            <span class="text-center" id="title">
                 {{ week_schedules }}
            </span>
            <span class="navigate">
                <a href="/schedule/next/{{date}}" id="next" class="text-center next">&#8250;</a>
            </span>
        </div>
        <div class="col-lg-12 bg-green">&nbsp;</div>
        <div class="table-responsive">
            <table class="table table-bordered text-center">
                <thead>
                    <tr class="bg-light-gray text-white">
                        <th class="text-uppercase">Place
                        </th>
                        <th class="text-uppercase">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                        <th class="text-uppercase">Sun</th>
                        <th class="text-uppercase">Mon</th>
                        <th class="text-uppercase">Tue</th>
                        <th class="text-uppercase">Wed</th>
                        <th class="text-uppercase">Thu</th>
                        <th class="text-uppercase">Fri</th>
                        <th class="text-uppercase">Sat</th>
                    </tr>
                </thead>
                <tbody>

                    <tr class="bg-light-gray text-white">
                        <td class="tdinput">                            
                        </td>
                        <td class="tdinput">                            
                        </td>
                        <td class="tdinput">{{date|add_days:0 }}
                        </td>
                        <td class="tdinput">{{date|add_days:1 }}
                        </td>
                        <td class="tdinput">{{date|add_days:2 }}
                        </td>
                        <td class="tdinput">{{date|add_days:3 }}
                        </td>
                        <td class="tdinput">{{date|add_days:4 }}
                        </td>
                        <td class="tdinput">{{date|add_days:5 }}
                        </td>
                        <td class="tdinput">{{date|add_days:6 }}
                        </td>
                    </tr>
                    {% for schedule in schedules %}
                    <tr>
                        <td class="align-middle bg-green">{{schedule.place}}</td>
                        <td class="bg-light-gray bg-green">{{schedule.totalpercent}}</td>
                        <td class="tdinput" contenteditable="true" style="cursor:pointer;" data-date="{{schedule.date}}" data-hotel="{{schedule.hotel_id}}">
                            {{schedule.sun}}
                        </td>
                        <td class="tdinput" contenteditable="true" style="cursor:pointer;" data-date="" data-hotel="">
                            {{schedule.mon}}
                        </td>
                        <td class="tdinput" contenteditable="true" style="cursor:pointer;" data-date="" data-hotel="">
                            {{schedule.tue}}
                        </td>
                        <td class="tdinput" contenteditable="true" style="cursor:pointer;" data-date="" data-hotel="">
                            {{schedule.wed}} 
                        </td>
                        <td class="tdinput" contenteditable="true" style="cursor:pointer;" data-date="" data-hotel="">
                            {{schedule.thu}}
                        </td>
                        <td class="tdinput" contenteditable="true" style="cursor:pointer;" data-date="" data-hotel="">
                            {{schedule.fri}}
                        </td>
                        <td class="tdinput" contenteditable="true" style="cursor:pointer;" data-date="" data-hotel="">
                            {{schedule.sat}}
                        </td >
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

</div>


<script>
    $(document).ready(function() {     
        $('.navigate').click(function() {   
            var param = this.getElementsByTagName("a")[0].id;

            //$("#title").text(nextDate());
            $.get( "schedule", function( data ) {
                $("#title").html( data );
                alert( "Load was performed." );
            });
/*
            $.ajax({
                url: '/schedule/ajax/',  
                data: {
                    'param': param  
                },
                type: 'GET',
                dataType: 'json',
                success: function(data) {
                    $('#ajax-response').html(data.message);
                }
            });*/
        });
    });
    $(document).ready(function() {
        $('.tdinput').on('blur', function() {
            var value = this.innerHTML.trim()
            console.log(value);
        });
    });
    function nextDate() {
        var today = new Date();
        today.setDate(today.getDate() + (- 1 - today.getDay() + 7) % 7 + 1);
        return today;
    }
    </script>

